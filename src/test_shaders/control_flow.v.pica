.fvec uniform0

.constf const1(0.0, 1.0, 0.0174532925, 57.295779513)
.alias zeros const1.xxxx
.alias ones const1.yyyy
.alias deg_to_rad const1.zzzz
.alias rad_to_deg const1.wwww
.constf const9(0e0, 0e0, 0e0, 0e0)
.constf const17(1e0, 1e0, 1e0, 1e0)
.constf const19(-1e0, -1e0, -1e0, -1e0)

.out outpos position

.proc main
label5:
    mov r0.x, const9.x
    cmp uniform0.x, gt, gt, r0.x
    mov r1.x, cmp.xy
    slt r2.x, zeros, -r1.x
    mul r2.x, const17.x
    add r3.x, -ones, r1.x
    slt r4.x, zeros, r3.x
    mul r4.x, const19.x
    add r2.x, r2.x, r4.x
    mov r5.x, v0.x
    mov r5.y, v0.y
    mov r5.z, r2.x
    mov r5.w, const17.x
    mov outpos, r5
.end

